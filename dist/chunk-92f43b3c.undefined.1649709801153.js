(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92f43b3c"],{"3b9e":function(e,t,o){e.exports=o.p+"static/img/success1.cd532f88.png"},"4b7f":function(e,t,o){e.exports=o.p+"static/img/fail.9d8ea412.png"},"5dd4":function(e,t,o){},8368:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"payresult"},[n("van-nav-bar",{attrs:{title:"支付结果",fixed:""}}),n("Loading",{attrs:{loading:e.loadingPage}}),n("div",{staticClass:"cart"},[1==e.isOk?n("div",{staticClass:"result"},[n("img",{attrs:{src:o("3b9e")}})]):e._e(),0==e.isOk?n("div",{staticClass:"result"},[n("img",{attrs:{src:o("4b7f")}})]):e._e(),0==e.isOk?n("div",{staticClass:"auto"},[n("span",[e._v(e._s(e.timeNum))]),e._v(" 秒后自动进入订单详情... ")]):e._e(),n("div",{staticClass:"button"},[n("div",{staticClass:"item1",on:{click:e.handleBack}},[e._v("继续购买")]),n("div",{staticClass:"item",on:{click:e.handleDetail}},[e._v("订单详情")])])])],1)},r=[];o("a4d3"),o("e01a"),o("d3b7"),o("d28b"),o("3ca3"),o("ddb0");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=o("1da1"),s=(o("96cf"),o("4ec3")),c=o("2241"),l={data:function(){return{isOk:-1,orderNo:0,type:1,loadingPage:!1,timeNum:1,timer:!1,conpon:"",memberTelephone:""}},methods:{noPublic:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["r"])();case 2:o=t.sent,console.log(o,o.data.data.memberTelephone,"data.data.memberTelephone"),e.memberTelephone=o.data.data.memberTelephone,console.log(e.memberTelephone,"thberTelephone");case 6:case"end":return t.stop()}}),t)})))()},getTelephone:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["r"])();case 2:o=t.sent,e.memberTelephone=o.data.data.memberTelephone,console.log(e.memberTelephone,e.isOk,"this.isOk","this.memberTelephone"),JSON.parse(localStorage.getItem("setUsersInfo")),console.log(1==e.isOk,"70isOk",e.isOk,i(e.isOk)),1==e.isOk?(console.log("this.isOk == 1",e.memberTelephone),"0000"==e.memberTelephone?c["a"].confirm({title:"亲爱的用户",message:"为了能及时通知到您领取咖啡，您能留下联系方式吗？\n（绑定成功的可免费赠送能量测试一次）",confirmButtonText:"同意",cancelButtonText:"不需要"}).then((function(){e.loadingTime("/bind?orderNo=".concat(e.orderNo,"&isPhone=2"))})).catch((function(){e.loadingTime("/luckdraw?orderNo=".concat(e.orderNo,"&isPhone=1"))})):(console.log("直接跳转抽奖"),e.loadingTime("/luckdraw?orderNo=".concat(e.orderNo)))):e.timer=setInterval((function(t){e.timeNum--,0===e.timeNum&&(clearInterval(e.timer),e.loadingTime("/orderdetail?orderNo=".concat(e.orderNo)))}),1e3);case 8:case"end":return t.stop()}}),t)})))()},forbidBack:function(){window.history.pushState("forward",null,"#"),window.history.forward(1)},loadingTime:function(e){var t=this;this.loadingPage=!0,setTimeout((function(){t.loadingPage=!1,t.$router.push(e)}),1e3)},handleDetail:function(){clearInterval(this.timer),this.$router.push("/orderdetail?orderNo=".concat(this.orderNo))},handleBack:function(){clearInterval(this.timer);var e=JSON.parse(localStorage.getItem("storeNo"));"1"==this.type?this.loadingTime({path:"/foods1/"+e}):this.loadingTime({path:"/groupmeal"})}},created:function(){this.isOk=this.$route.query.isOk,console.log(this.isOk,"支付"),this.orderNo=this.$route.query.orderNo,this.type=this.$route.query.type},mounted:function(){window.history&&window.history.pushState&&(window.addEventListener("popstate",this.forbidBack,!1),this.forbidBack()),console.log("222222222222"),this.getTelephone()},destoryed:function(){window.removeEventListener("popstate",this.forbidBack,!1),clearInterval(this.timer)}},d=l,u=(o("979b"),o("2877")),m=Object(u["a"])(d,n,r,!1,null,"de3fe558",null);t["default"]=m.exports},"979b":function(e,t,o){"use strict";o("5dd4")}}]);