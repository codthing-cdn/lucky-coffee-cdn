(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c0ab952"],{"0a51":function(t,e,n){},"2f94":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return f}));var r=n("b775"),a=r["b"];function i(t){return a({url:"/api/wx/consignAddr/addOrUpdate",method:"POST",data:t})}function s(t){return a({url:"/api/wx/consignAddr/delete",method:"POST",data:t})}function c(t){return a({url:"/api/wx/consignAddr/info",method:"GET",params:t})}function o(t){return a({url:"/api/wx/consignAddr/list",method:"GET",params:t})}function u(t){return a({url:"/api/wx/map/parseByLocation",method:"GET",params:t})}function d(t){return a({url:"/api/wx/map/searchLocation",method:"GET",params:t})}function l(t){return a({url:"/api/wx/map/districtList",method:"GET",params:t})}function f(t){return a({url:"/api/wx/map/isInDeliverArea",method:"GET",params:t})}},"498a2":function(t,e,n){"use strict";var r=n("23e7"),a=n("58a8").trim,i=n("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("577e"),i=n("5899"),s="["+i+"]",c=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),u=function(t){return function(e){var n=a(r(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},"8f55":function(t,e,n){"use strict";n("0a51")},c8d2:function(t,e,n){var r=n("5e77").PROPER,a=n("d039"),i=n("5899"),s="​᠎";t.exports=function(t){return a((function(){return!!i[t]()||s[t]()!==s||r&&i[t].name!==t}))}},efe3:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{staticClass:"title",attrs:{"left-text":"返回","left-arrow":"",title:"地址选择",fixed:""},on:{"click-left":t.handleBack}}),n("div",{staticClass:"search_content"},[n("div",{staticClass:"city",on:{click:t.handleCity}},[n("van-icon",{attrs:{name:"location-o"}}),n("span",[t._v(t._s(t.region))]),n("van-icon",{attrs:{name:"arrow-down"}})],1),n("van-search",{staticClass:"topsearch",attrs:{placeholder:"请输入收货地址"},on:{input:t.thinkSearch,search:t.onSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[n("template",{slot:"action"},[n("van-button",{attrs:{type:"info"},on:{click:t.onCancel}},[t._v("取消")])],1)],2)],1),t.loadingPage?n("Loading",{attrs:{loading:t.loadingPage}}):n("div",[0!=t.search.trim().length?n("div",{staticClass:"address"},t._l(t.list,(function(e,r){return n("div",{key:r,staticClass:"address_item",on:{click:function(n){return t.handleAddress(e)}}},[n("div",{staticClass:"name"},[t._v(t._s(e.title))]),n("div",{staticClass:"detail"},[t._v(t._s(e.address))])])})),0):n("div",{staticClass:"address_next"},[n("div",{staticClass:"address_title"},[n("van-icon",{attrs:{name:"location-o"}}),t._v("附近地址")],1),t._l(t.list,(function(e,r){return n("div",{key:r,staticClass:"address_item",on:{click:function(n){return t.handleAddress(e)}}},[n("div",{staticClass:"name"},[t._v(t._s(e.title))]),n("div",{staticClass:"detail"},[t._v(t._s(e.address))])])}))],2)])],1)},a=[],i=n("1da1"),s=(n("498a2"),n("ac1f"),n("841c"),n("96cf"),n("2f94")),c={data:function(){return{search:"",region:"广州市",list:[],id:"",latAndLng:"",loadingPage:!0}},methods:{handleBack:function(){this.$router.push({path:"/editaddress",query:{id:this.id}})},handleCity:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$router.push({path:"/city",query:{currentCity:t.region,id:t.id}});case 1:case"end":return e.stop()}}),e)})))()},onSearch:function(){},onCancel:function(){},thinkSearch:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.search.trim().length){e.next=4;break}return n=JSON.parse(localStorage.getItem("locationInfo")),t.searchLocation({region:n.city,latAndLng:n.latAndLng}),e.abrupt("return");case 4:t.searchLocation({region:t.region,keyword:t.search});case 5:case"end":return e.stop()}}),e)}))),200)},searchLocation:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(s["h"])(t);case 2:r=n.sent,e.list=r.data.data,e.loadingPage=!1;case 5:case"end":return n.stop()}}),n)})))()},handleAddress:function(t){var e=this,n=JSON.parse(localStorage.getItem("AddressInfoObj"));setTimeout((function(){n&&(e.$set(n,"placeName",t.title),e.$set(n,"latAndLng",t.latAndLng),e.$set(n,"detailAddress",t.address)),localStorage.setItem("AddressInfoObj",JSON.stringify(n)),e.$router.push({path:"/editaddress",query:{id:-2}})}),0)}},created:function(){var t=this.$route.query.city;this.id=this.$route.query.id;var e=JSON.parse(localStorage.getItem("locationInfo"));this.region=t||e.city,this.searchLocation({region:e.city,latAndLng:e.latAndLng})}},o=c,u=(n("8f55"),n("2877")),d=Object(u["a"])(o,r,a,!1,null,"7120718b",null);e["default"]=d.exports}}]);