(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-176ae89c"],{"1b44":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share_bg"},[a("img",{attrs:{src:n("bea2"),alt:""}})])}],r={},c=r,s=(n("9a20"),n("2877")),i=Object(s["a"])(c,a,o,!1,null,"9456d058",null);e["a"]=i.exports},"241a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-content"},[[n("van-nav-bar",{staticClass:"title",attrs:{"left-text":"首页","left-arrow":"",title:"分享优惠券",fixed:""},on:{"click-left":function(e){return t.$router.replace("/home")}}}),n("div",{staticClass:"content-center"},[t._m(0),n("van-button",{attrs:{type:"primary",size:"large"},on:{click:t.getShareCoupon}},[t._v("领取优惠券")])],1)],t.shareCouponData.isOwn?n("div",{staticClass:"sharpImg",on:{click:t.showCounpons}},[n("ShareBg")],1):t._e()],2)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[t._v(" 您的好友赠送了一张幸运咖啡优惠券，"),n("br"),t._v("祝您幸运常伴！ ")])}],r=n("1da1"),c=(n("96cf"),n("fa7d")),s=n("1b44"),i=n("4ec3"),u=n("18a0"),l=n.n(u),f=(n("8e43"),{data:function(){return{shareCouponData:{}}},components:{ShareBg:s["a"]},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.a.ready((function(){console.log("wx.ready"),l.a.updateAppMessageShareData({title:"送你优惠券啦",desc:"送你优惠券啦",link:window.location.href,imgUrl:"../../assets/logotitle.png",success:function(){}}),l.a.onMenuShareTimeline({title:"送你优惠券啦",desc:"送你优惠券啦",link:window.location.href,imgUrl:"../../assets/logotitle.png",success:function(){}})})),n=t.$route.query.id,Object(i["j"])({logId:n}).then((function(e){localStorage.getItem("setUsersInfo"),console.log(e),200==e.data.code&&(t.shareCouponData=e.data.data||{})}));case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){console.log("shareCoupon")},methods:{showCounpons:function(){this.shareCouponData.isOwn=!this.shareCouponData.isOwn,this.$router.push("/coupon")},getShareCoupon:function(){var t=this;Object(c["a"])(!0),this.shareCouponData.isOwn?this.$toast("不能领取自己的优惠券"):Object(i["C"])({logId:this.shareCouponData.id}).then((function(e){console.log(e),200==e.data.code&&(e.data.data?t.$toast("领取成功"):t.$toast("已经领取过了"))}))}}}),p=f,h=(n("2650"),n("2877")),d=Object(h["a"])(p,a,o,!1,null,"60ff07cb",null);e["default"]=d.exports},2650:function(t,e,n){"use strict";n("d9f3")},"9a20":function(t,e,n){"use strict";n("bf45")},bea2:function(t,e,n){t.exports=n.p+"static/img/shareimg1.9a9bfcfe.png"},bf45:function(t,e,n){},d9f3:function(t,e,n){},fa7d:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l}));var a=n("1da1"),o=(n("96cf"),n("99af"),n("a078")),r=n("4ec3"),c=n("18a0"),s=n.n(c),i=function(t){var e=JSON.parse(localStorage.getItem("token"));return!!e||(t&&Object(o["a"])({redirectPath:"/blank"}),!1)},u=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["r"])();case 2:if(n=t.sent,n&&n.data&&n.data.data.memberTelephone){t.next=7;break}return e.$toast("请先绑定手机号"),s.a.miniProgram.reLaunch({url:"/pages/bindPhone/bindPhone?nextPath=".concat(encodeURIComponent("https://m.yiqiwen.cn/dist/tlzb?phone="),"&token=").concat(JSON.parse(localStorage.getItem("token")))}),t.abrupt("return");case 7:s.a.miniProgram.reLaunch({url:"/pages/thirdParty/thirdParty?webUrl=".concat(encodeURIComponent("https://m.yiqiwen.cn/dist/tlzb?phone=".concat(n.data.data.memberTelephone)),"&token=").concat(JSON.parse(localStorage.getItem("token")))});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(t){s.a.miniProgram.navigateTo({url:"/pages/payment/payment?token=".concat(JSON.parse(localStorage.getItem("token")),"&").concat(t)})}}}]);